<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HOUDA+ æŠ½å¥–ç³»ç»Ÿ</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 min-h-screen flex flex-col items-center justify-center p-6 relative">

  <!-- åœ£è¯å…ƒç´  -->
  <img src="https://cdn.pixabay.com/photo/2017/12/29/22/28/santa-claus-3046642_1280.png" 
       alt="Santa" class="absolute top-5 right-5 w-16 h-16"/>

  <div class="max-w-md w-full bg-white shadow-md rounded-xl p-6 text-center">
    <h1 class="text-3xl font-bold text-gray-800 mb-2">HOUDA+ æŠ½å¥–ç³»ç»Ÿ</h1>
    <p class="text-gray-600 mb-6">å¥–å“ï¼š1989åŸç‰ˆ CD ğŸµ <br>ä¸­å¥–æ¦‚ç‡ 2%</p>

    <button id="drawButton" 
            class="bg-red-600 hover:bg-red-700 text-white font-semibold py-3 px-8 rounded-full shadow-md transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed">
      æŠ½å¥–
    </button>

    <div id="result" class="mt-6 text-lg text-gray-800 min-h-[40px]"></div>
  </div>

<script>
  // æ£€æŸ¥æ˜¯å¦æœ‰äººä¸­å¥–
  function getLotteryStatus() {
    return localStorage.getItem('hasWon') === 'true';
  }

  // æ›´æ–°ä¸­å¥–çŠ¶æ€
  function updateLotteryStatus() {
    localStorage.setItem('hasWon', 'true');
  }

  // æŠ½å¥–é€»è¾‘
  function drawLottery() {
    const drawButton = document.getElementById('drawButton');
    const resultDiv = document.getElementById('result');

    drawButton.disabled = true;
    resultDiv.textContent = "æ­£åœ¨æŠ½å¥–ï¼Œè¯·ç¨å€™...";

    if (getLotteryStatus()) {
      resultDiv.textContent = "æŠ½å¥–å·²ç»“æŸï¼Œå¥–å“å·²è¢«æŠ½å‡º âŒ";
      return;
    }

    const randomChance = Math.random() * 100;
    if (randomChance <= 2) {
      resultDiv.innerHTML = "ğŸ‰ æ­å–œï¼ä½ èµ¢å¾—äº†å¥–å“ï¼š1989åŸç‰ˆ CD ğŸ";
      updateLotteryStatus();
    } else {
      resultDiv.textContent = "å¾ˆé—æ†¾ï¼Œæœªä¸­å¥– ğŸ˜¢";
    }
  }

  // é¡µé¢åŠ è½½æ£€æŸ¥çŠ¶æ€
  function init() {
    const drawButton = document.getElementById('drawButton');
    const resultDiv = document.getElementById('result');
    if (getLotteryStatus()) {
      drawButton.disabled = true;
      resultDiv.textContent = "æŠ½å¥–å·²ç»“æŸï¼Œå¥–å“å·²è¢«æŠ½å‡º âŒ";
    }
  }

  init();
</script>

</body>
</html>
